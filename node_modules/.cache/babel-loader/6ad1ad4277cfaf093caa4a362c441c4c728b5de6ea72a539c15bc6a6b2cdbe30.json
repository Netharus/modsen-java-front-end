{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\daniil\\\\Desktop\\\\sobol-react-app\\\\frontend\\\\src\\\\pages\\\\Auth.jsx\",\n  _s = $RefreshSig$();\nimport TextField from '@mui/material/TextField';\nimport React, { useState } from 'react';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Auth = () => {\n  _s();\n  const [isLoginWindow, setIsLoginWindow] = useState(true);\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [name, setName] = useState('');\n  const handleSwitchWindow = () => {\n    setIsLoginWindow(!isLoginWindow);\n  };\n  const handleSubmit = async () => {\n    if (isLoginWindow) {\n      const url = 'http://localhost:8080/api/v1/auth/login';\n      const loginData = {\n        username: username,\n        password: password\n      };\n      const requestOptions = {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(loginData)\n      };\n      try {\n        const response = await fetch(url, requestOptions);\n        if (!response.ok) {\n          throw new Error('Login request failed.');\n        }\n        const data = await response.json();\n        localStorage.setItem('token', data.accessToken);\n        localStorage.setItem('id', data.id);\n        localStorage.setItem('username', data.username);\n        window.location.href = '/profile';\n      } catch (error) {\n        console.error(error);\n      }\n    } else {\n      const url = 'http://localhost:8080/api/v1/auth/register';\n      const registerData = {\n        username: username,\n        password: password,\n        name: name\n      };\n      const requestOptions = {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(registerData)\n      };\n      try {\n        const response = await fetch(url, requestOptions);\n        if (!response.ok) {\n          throw new Error('Registration request failed.');\n        }\n        const data = await response.json();\n        window.location.href = '/';\n      } catch (error) {\n        console.error(error);\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex justify-center items-center h-screen bg-gray-100\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4\",\n        children: /*#__PURE__*/_jsxDEV(TextField, {\n          label: \"Username\",\n          variant: \"outlined\",\n          fullWidth: true,\n          value: username,\n          onChange: e => setUsername(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4\",\n        children: /*#__PURE__*/_jsxDEV(TextField, {\n          label: \"Password\",\n          variant: \"outlined\",\n          type: \"password\",\n          fullWidth: true,\n          value: password,\n          onChange: e => setPassword(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 5\n      }, this), !isLoginWindow && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-4\",\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            label: \"Name\",\n            variant: \"outlined\",\n            fullWidth: true,\n            value: name,\n            onChange: e => setName(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 8\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 7\n        }, this)\n      }, void 0, false), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-center\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\",\n          type: \"button\",\n          onClick: handleSubmit,\n          children: isLoginWindow ? 'Sign In' : 'Register'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-center mt-4\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"text-blue-500 hover:text-blue-700 font-bold focus:outline-none\",\n          type: \"button\",\n          onClick: handleSwitchWindow,\n          children: isLoginWindow ? 'Create an account' : 'Already have an account?'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 3\n  }, this);\n};\n_s(Auth, \"7azsg3tVU/Jo7nuAuhj8hDya7Vw=\");\n_c = Auth;\nexport default Auth;\nvar _c;\n$RefreshReg$(_c, \"Auth\");","map":{"version":3,"names":["TextField","React","useState","jsxDEV","_jsxDEV","Fragment","_Fragment","Auth","_s","isLoginWindow","setIsLoginWindow","username","setUsername","password","setPassword","name","setName","handleSwitchWindow","handleSubmit","url","loginData","requestOptions","method","headers","body","JSON","stringify","response","fetch","ok","Error","data","json","localStorage","setItem","accessToken","id","window","location","href","error","console","registerData","className","children","label","variant","fullWidth","value","onChange","e","target","fileName","_jsxFileName","lineNumber","columnNumber","type","onClick","_c","$RefreshReg$"],"sources":["C:/Users/daniil/Desktop/sobol-react-app/frontend/src/pages/Auth.jsx"],"sourcesContent":["import TextField from '@mui/material/TextField'\r\nimport React, { useState } from 'react'\r\n\r\nconst Auth = () => {\r\n\tconst [isLoginWindow, setIsLoginWindow] = useState(true)\r\n\tconst [username, setUsername] = useState('')\r\n\tconst [password, setPassword] = useState('')\r\n\tconst [name, setName] = useState('')\r\n\r\n\tconst handleSwitchWindow = () => {\r\n\t\tsetIsLoginWindow(!isLoginWindow)\r\n\t}\r\n\r\n\tconst handleSubmit = async () => {\r\n\t\tif (isLoginWindow) {\r\n\t\t\tconst url = 'http://localhost:8080/api/v1/auth/login'\r\n\r\n\t\t\tconst loginData = {\r\n\t\t\t\tusername: username,\r\n\t\t\t\tpassword: password,\r\n\t\t\t}\r\n\r\n\t\t\tconst requestOptions = {\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\t\tbody: JSON.stringify(loginData),\r\n\t\t\t}\r\n\r\n\t\t\ttry {\r\n\t\t\t\tconst response = await fetch(url, requestOptions)\r\n\t\t\t\tif (!response.ok) {\r\n\t\t\t\t\tthrow new Error('Login request failed.')\r\n\t\t\t\t}\r\n\t\t\t\tconst data = await response.json()\r\n\t\t\t\tlocalStorage.setItem('token', data.accessToken)\r\n\t\t\t\tlocalStorage.setItem('id', data.id)\r\n\t\t\t\tlocalStorage.setItem('username', data.username)\r\n\t\t\t\twindow.location.href = '/profile'\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.error(error)\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tconst url = 'http://localhost:8080/api/v1/auth/register'\r\n\r\n\t\t\tconst registerData = {\r\n\t\t\t\tusername: username,\r\n\t\t\t\tpassword: password,\r\n\t\t\t\tname: name,\r\n\t\t\t}\r\n\r\n\t\t\tconst requestOptions = {\r\n\t\t\t\tmethod: 'POST',\r\n\t\t\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\t\t\tbody: JSON.stringify(registerData),\r\n\t\t\t}\r\n\r\n\t\t\ttry {\r\n\t\t\t\tconst response = await fetch(url, requestOptions)\r\n\t\t\t\tif (!response.ok) {\r\n\t\t\t\t\tthrow new Error('Registration request failed.')\r\n\t\t\t\t}\r\n\t\t\t\tconst data = await response.json()\r\n\t\t\t\twindow.location.href = '/'\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.error(error)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className='flex justify-center items-center h-screen bg-gray-100'>\r\n\t\t\t<form className='bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4'>\r\n\t\t\t\t<div className='mb-4'>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tlabel='Username'\r\n\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tvalue={username}\r\n\t\t\t\t\t\tonChange={e => setUsername(e.target.value)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='mb-4'>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tlabel='Password'\r\n\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tvalue={password}\r\n\t\t\t\t\t\tonChange={e => setPassword(e.target.value)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t{!isLoginWindow && (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<div className='mb-4'>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tlabel='Name'\r\n\t\t\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tvalue={name}\r\n\t\t\t\t\t\t\t\tonChange={e => setName(e.target.value)}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\t\t\t\t<div className='flex justify-center'>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclassName='bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline'\r\n\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\tonClick={handleSubmit}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{isLoginWindow ? 'Sign In' : 'Register'}\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='flex justify-center mt-4'>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclassName='text-blue-500 hover:text-blue-700 font-bold focus:outline-none'\r\n\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\tonClick={handleSwitchWindow}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{isLoginWindow ? 'Create an account' : 'Already have an account?'}\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Auth\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}